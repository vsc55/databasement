{"searchDocs":[{"title":"Docker","type":0,"sectionRef":"#","url":"/databasement/self-hosting/guides/docker","content":"","keywords":"","version":"Next"},{"title":"Prerequisites​","type":1,"pageTitle":"Docker","url":"/databasement/self-hosting/guides/docker#prerequisites","content":" Docker installed on your system  ","version":"Next","tagName":"h2"},{"title":"Quick Start (SQLite)​","type":1,"pageTitle":"Docker","url":"/databasement/self-hosting/guides/docker#quick-start-sqlite","content":" The simplest way to run Databasement with SQLite as the database:  # Generate an application key APP_KEY=$(docker run --rm davidcrty/databasement:latest php artisan key:generate --show) docker volume create databasement-data # Run the container docker run -d \\ --name databasement \\ -p 8000:8000 \\ -e APP_KEY=$APP_KEY \\ -e DB_CONNECTION=sqlite \\ -e DB_DATABASE=/data/database.sqlite \\ -e ENABLE_QUEUE_WORKER=true \\ -v databasement-data:/data \\ davidcrty/databasement:latest   note The ENABLE_QUEUE_WORKER=true environment variable enables the background queue worker inside the container. This is required for processing backup and restore jobs. When using Docker Compose, the worker runs as a separate service instead.  Access the application at http://localhost:8000  ","version":"Next","tagName":"h2"},{"title":"Production Setup (External Database)​","type":1,"pageTitle":"Docker","url":"/databasement/self-hosting/guides/docker#production-setup-external-database","content":" For production, we recommend using MySQL or PostgreSQL instead of SQLite. Check the database configuration guide for more information. ","version":"Next","tagName":"h2"},{"title":"Introduction","type":0,"sectionRef":"#","url":"/databasement/self-hosting/intro","content":"","keywords":"","version":"Next"},{"title":"Getting Started​","type":1,"pageTitle":"Introduction","url":"/databasement/self-hosting/intro#getting-started","content":" We provide guides to deploy Databasement using:  Docker - Single container deployment (recommended for most users)Docker Compose - Multi-container setup with external databaseKubernetes + Helm - For Kubernetes clusters  ","version":"Next","tagName":"h2"},{"title":"Requirements​","type":1,"pageTitle":"Introduction","url":"/databasement/self-hosting/intro#requirements","content":" Databasement runs in a single container that includes:  FrankenPHP web serverQueue worker for async backup/restore jobsScheduler for automated backups  The only external requirement is a database for the application itself:  SQLite (simplest, built into the container)MySQL/MariaDB or PostgreSQL (recommended for production)  ","version":"Next","tagName":"h2"},{"title":"Quick Start​","type":1,"pageTitle":"Introduction","url":"/databasement/self-hosting/intro#quick-start","content":" The fastest way to try Databasement:  docker run -d \\ --name databasement \\ -p 8000:8000 \\ -v databasement-data:/app/storage \\ davidcrty/databasement:latest   Then open http://localhost:8000 in your browser.  note This quick start uses SQLite for the application database. For production deployments, see the Docker guide for recommended configurations.  ","version":"Next","tagName":"h2"},{"title":"Support​","type":1,"pageTitle":"Introduction","url":"/databasement/self-hosting/intro#support","content":" If you encounter issues with self-hosting, please open an issue on GitHub. ","version":"Next","tagName":"h2"},{"title":"Kubernetes + Helm","type":0,"sectionRef":"#","url":"/databasement/self-hosting/guides/kubernetes-helm","content":"","keywords":"","version":"Next"},{"title":"Prerequisites​","type":1,"pageTitle":"Kubernetes + Helm","url":"/databasement/self-hosting/guides/kubernetes-helm#prerequisites","content":" A Kubernetes clusterHelm v3.x installedkubectl configured for your cluster  ","version":"Next","tagName":"h2"},{"title":"Installation​","type":1,"pageTitle":"Kubernetes + Helm","url":"/databasement/self-hosting/guides/kubernetes-helm#installation","content":" ","version":"Next","tagName":"h2"},{"title":"1. Add the Helm Repository​","type":1,"pageTitle":"Kubernetes + Helm","url":"/databasement/self-hosting/guides/kubernetes-helm#1-add-the-helm-repository","content":" helm repo add databasement https://david-crty.github.io/databasement helm repo update   ","version":"Next","tagName":"h3"},{"title":"2. Generate an Application Key​","type":1,"pageTitle":"Kubernetes + Helm","url":"/databasement/self-hosting/guides/kubernetes-helm#2-generate-an-application-key","content":" Before deploying, generate an application encryption key:  docker run --rm davidcrty/databasement:latest php artisan key:generate --show   Copy the output (e.g., base64:abc123...) for use in your values file.  ","version":"Next","tagName":"h3"},{"title":"3. Create a Values File​","type":1,"pageTitle":"Kubernetes + Helm","url":"/databasement/self-hosting/guides/kubernetes-helm#3-create-a-values-file","content":" Minimal Configuration (SQLite)​  For simple deployments using SQLite:  values.yaml app: url: https://backup.yourdomain.com key: &quot;base64:your-generated-key-here&quot; ingress: enabled: true className: nginx host: backup.yourdomain.com tlsSecretName: databasement-tls # Optional: for HTTPS   Production Configuration (External Database)​  For production, we recommend using MySQL or PostgreSQL instead of SQLite:  values.yaml app: debug: false url: https://backup.yourdomain.com key: &quot;base64:your-generated-key-here&quot; database: connection: mysql # or pgsql host: your-mysql-host.example.com port: 3306 name: databasement username: databasement password: your-secure-password ingress: enabled: true className: nginx annotations: cert-manager.io/cluster-issuer: letsencrypt-prod host: backup.yourdomain.com tlsSecretName: databasement-tls   ","version":"Next","tagName":"h3"},{"title":"Worker Configuration​","type":1,"pageTitle":"Kubernetes + Helm","url":"/databasement/self-hosting/guides/kubernetes-helm#worker-configuration","content":" By default, the Helm chart deploys a worker as a sidecar container alongside the main application in the same pod. This worker processes backup and restore jobs from the queue.  values.yaml worker: enabled: true # Set to false to disable the worker separateDeployment: false # Set to true for separate deployment replicaCount: 1 # Only used when separateDeployment is true command: &quot;php artisan queue:work --queue=backups,default --tries=3 --timeout=3600 --sleep=3 --max-jobs=1000&quot; resources: limits: cpu: 300m memory: 256Mi requests: cpu: 50m memory: 128Mi   ","version":"Next","tagName":"h2"},{"title":"Separate Worker Deployment​","type":1,"pageTitle":"Kubernetes + Helm","url":"/databasement/self-hosting/guides/kubernetes-helm#separate-worker-deployment","content":" For production environments where you need independent scaling of workers, you can deploy the worker as a separate Deployment:  values.yaml worker: enabled: true separateDeployment: true replicaCount: 3 # Scale workers independently database: connection: mysql # External database recommended host: your-mysql-host.example.com # ... other database config   caution When using separateDeployment: true, the PVC access mode is automatically set to ReadWriteMany. Ensure your storage class supports this access mode, or use an external database (MySQL/PostgreSQL) instead of SQLite.  note Explore the full values.yaml on GitHub to see all available configuration options.  ","version":"Next","tagName":"h3"},{"title":"4. Install the Chart​","type":1,"pageTitle":"Kubernetes + Helm","url":"/databasement/self-hosting/guides/kubernetes-helm#4-install-the-chart","content":" helm upgrade --install databasement databasement/databasement -f values.yaml   ","version":"Next","tagName":"h3"},{"title":"5. Verify the Deployment​","type":1,"pageTitle":"Kubernetes + Helm","url":"/databasement/self-hosting/guides/kubernetes-helm#5-verify-the-deployment","content":" kubectl get pods -n databasement kubectl get svc -n databasement kubectl get ingress -n databasement   ","version":"Next","tagName":"h3"},{"title":"Uninstalling​","type":1,"pageTitle":"Kubernetes + Helm","url":"/databasement/self-hosting/guides/kubernetes-helm#uninstalling","content":" helm uninstall databasement -n databasement   caution This will not delete the PersistentVolumeClaim by default. To delete all data: kubectl delete pvc -l app.kubernetes.io/name=databasement -n databasement  ","version":"Next","tagName":"h2"},{"title":"Backups","type":0,"sectionRef":"#","url":"/databasement/user-guide/backups","content":"","keywords":"","version":"Next"},{"title":"Creating a Backup​","type":1,"pageTitle":"Backups","url":"/databasement/user-guide/backups#creating-a-backup","content":" ","version":"Next","tagName":"h2"},{"title":"Manual Backup​","type":1,"pageTitle":"Backups","url":"/databasement/user-guide/backups#manual-backup","content":" Go to Database ServersFind the server you want to backupClick BackupSelect the target database (or leave empty for all databases)Choose a storage volume for the backupClick Start Backup  The backup will be queued and processed in the background. You can monitor progress on the Snapshots page.  ","version":"Next","tagName":"h3"},{"title":"How Backups Work​","type":1,"pageTitle":"Backups","url":"/databasement/user-guide/backups#how-backups-work","content":" When you create a backup, Databasement:  Connects to the database serverRuns the appropriate dump command (mysqldump or pg_dump)Compresses the output with gzipTransfers the compressed file to the selected storage volumeCreates a snapshot record with metadata  ","version":"Next","tagName":"h2"},{"title":"Backup Commands​","type":1,"pageTitle":"Backups","url":"/databasement/user-guide/backups#backup-commands","content":" Databasement uses native database tools for reliable backups:  MySQL / MariaDB:  mysqldump --single-transaction --routines --triggers --events database_name   PostgreSQL:  pg_dump --format=plain database_name   ","version":"Next","tagName":"h3"},{"title":"Backup Status​","type":1,"pageTitle":"Backups","url":"/databasement/user-guide/backups#backup-status","content":" Each backup (snapshot) has a status:  Status\tDescriptionPending\tBackup is queued, waiting to be processed In Progress\tBackup is currently running Completed\tBackup finished successfully Failed\tBackup encountered an error  ","version":"Next","tagName":"h2"},{"title":"Monitoring Backups​","type":1,"pageTitle":"Backups","url":"/databasement/user-guide/backups#monitoring-backups","content":" View all backup jobs on the Snapshots page. You can see:  Source server and databaseBackup timestampFile sizeStorage volumeStatus  ","version":"Next","tagName":"h2"},{"title":"Failed Backups​","type":1,"pageTitle":"Backups","url":"/databasement/user-guide/backups#failed-backups","content":" If a backup fails, check:  Database connectivity: Can Databasement still connect to the server?Disk space: Is there enough space on the storage volume?Permissions: Does the database user have backup privileges?Timeout: Large databases may need more time  Failed backup reasons are logged and visible in the snapshot details.  ","version":"Next","tagName":"h2"},{"title":"Best Practices​","type":1,"pageTitle":"Backups","url":"/databasement/user-guide/backups#best-practices","content":" ","version":"Next","tagName":"h2"},{"title":"Before Production Backups​","type":1,"pageTitle":"Backups","url":"/databasement/user-guide/backups#before-production-backups","content":" Test the connection before creating backupsVerify restore by testing a restore to a development serverMonitor disk space on your storage volumes  ","version":"Next","tagName":"h3"},{"title":"Backup Sizing​","type":1,"pageTitle":"Backups","url":"/databasement/user-guide/backups#backup-sizing","content":" Compressed backup sizes vary, but as a rough guide:  A 1GB database typically compresses to 100-300MBText-heavy data compresses better than binary data  ","version":"Next","tagName":"h3"},{"title":"Security Considerations​","type":1,"pageTitle":"Backups","url":"/databasement/user-guide/backups#security-considerations","content":" Use dedicated backup users with minimal required privilegesStore backups in secure, encrypted storage when possibleRegularly test your restore process ","version":"Next","tagName":"h3"},{"title":"Database Servers","type":0,"sectionRef":"#","url":"/databasement/user-guide/database-servers","content":"","keywords":"","version":"Next"},{"title":"Adding a Server​","type":1,"pageTitle":"Database Servers","url":"/databasement/user-guide/database-servers#adding-a-server","content":" Navigate to Database ServersClick Add ServerFill in the connection details:  Field\tDescriptionName\tA friendly name to identify this server Type\tThe database type (MySQL, PostgreSQL, MariaDB) Host\tHostname or IP address of the database server Port\tDatabase port (3306 for MySQL/MariaDB, 5432 for PostgreSQL) Username\tDatabase user for connecting Password\tUser's password  Click Test Connection to verify connectivityClick Save to add the server  ","version":"Next","tagName":"h2"},{"title":"Connection Requirements​","type":1,"pageTitle":"Database Servers","url":"/databasement/user-guide/database-servers#connection-requirements","content":" ","version":"Next","tagName":"h2"},{"title":"MySQL / MariaDB​","type":1,"pageTitle":"Database Servers","url":"/databasement/user-guide/database-servers#mysql--mariadb","content":" The database user needs the following privileges for backup operations:  GRANT SELECT, SHOW VIEW, TRIGGER, LOCK TABLES, PROCESS, EVENT, RELOAD ON database_name.* TO 'backup_user'@'%';   For backing up all databases:  GRANT SELECT, SHOW VIEW, TRIGGER, LOCK TABLES, PROCESS, EVENT, RELOAD ON *.* TO 'backup_user'@'%';   ","version":"Next","tagName":"h3"},{"title":"PostgreSQL​","type":1,"pageTitle":"Database Servers","url":"/databasement/user-guide/database-servers#postgresql","content":" The user should have read access to the databases you want to backup:  GRANT CONNECT ON DATABASE database_name TO backup_user; GRANT USAGE ON SCHEMA public TO backup_user; GRANT SELECT ON ALL TABLES IN SCHEMA public TO backup_user;   For full backup capabilities, consider using a superuser or the database owner.  ","version":"Next","tagName":"h3"},{"title":"Testing Connections​","type":1,"pageTitle":"Database Servers","url":"/databasement/user-guide/database-servers#testing-connections","content":" Before saving a server, always test the connection:  Fill in all connection detailsClick Test ConnectionThe system will attempt to connect and verify credentialsIf successful, you'll see a confirmation messageIf it fails, check the error message for troubleshooting  ","version":"Next","tagName":"h2"},{"title":"Common Connection Issues​","type":1,"pageTitle":"Database Servers","url":"/databasement/user-guide/database-servers#common-connection-issues","content":" Error\tSolutionConnection refused\tVerify host, port, and that the database server is running Access denied\tCheck username and password Unknown host\tVerify the hostname is correct and DNS is resolving Connection timeout\tCheck firewall rules and network connectivity  ","version":"Next","tagName":"h3"},{"title":"Editing Servers​","type":1,"pageTitle":"Database Servers","url":"/databasement/user-guide/database-servers#editing-servers","content":" Go to Database ServersFind the server you want to editClick the Edit buttonUpdate the connection detailsTest the connection againSave your changes  ","version":"Next","tagName":"h2"},{"title":"Deleting Servers​","type":1,"pageTitle":"Database Servers","url":"/databasement/user-guide/database-servers#deleting-servers","content":" Go to Database ServersFind the server you want to deleteClick the Delete buttonConfirm the deletion  warning Deleting a server does not delete its backup snapshots. Existing snapshots will remain in storage but cannot be easily associated with the deleted server.  ","version":"Next","tagName":"h2"},{"title":"Server Status​","type":1,"pageTitle":"Database Servers","url":"/databasement/user-guide/database-servers#server-status","content":" On the Database Servers list, you can see:  Server name and typeHost and portLast backup time (if any)Number of snapshots  ","version":"Next","tagName":"h2"},{"title":"Quick Actions​","type":1,"pageTitle":"Database Servers","url":"/databasement/user-guide/database-servers#quick-actions","content":" From the server list, you can quickly:  Backup: Start an immediate backup of a databaseEdit: Modify server settingsDelete: Remove the server ","version":"Next","tagName":"h2"},{"title":"Configuration","type":0,"sectionRef":"#","url":"/databasement/self-hosting/configuration","content":"","keywords":"","version":"Next"},{"title":"Application Settings​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#application-settings","content":" Variable\tDescription\tDefaultAPP_DEBUG\tEnable debug mode (set to false in production)\tfalse APP_URL\tFull URL where the app is accessible\thttp://localhost:8000 APP_KEY\tApplication encryption key (required)\t-  ","version":"Next","tagName":"h2"},{"title":"Generating the Application Key​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#generating-the-application-key","content":" The APP_KEY is required for encryption. Generate one with:  docker run --rm davidcrty/databasement:latest php artisan key:generate --show   Copy the output (e.g., base64:xxxx...) and set it as APP_KEY.  ","version":"Next","tagName":"h3"},{"title":"Database Configuration​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#database-configuration","content":" Databasement needs a database to store its own data (users, servers, backup configurations).  ","version":"Next","tagName":"h2"},{"title":"SQLite (Simplest)​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#sqlite-simplest","content":" DB_CONNECTION=sqlite DB_DATABASE=/data/database.sqlite   note When using SQLite, make sure to mount a volume for /data to persist data.  ","version":"Next","tagName":"h3"},{"title":"MySQL / MariaDB​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#mysql--mariadb","content":" Create a database and user for Databasement on your MySQL server:  MySQL:  CREATE DATABASE databasement CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci; CREATE USER 'databasement'@'%' IDENTIFIED BY 'your-secure-password'; GRANT ALL PRIVILEGES ON databasement.* TO 'databasement'@'%'; FLUSH PRIVILEGES;   DB_CONNECTION=mysql DB_HOST=your-mysql-host DB_PORT=3306 DB_DATABASE=databasement DB_USERNAME=databasement DB_PASSWORD=your-secure-password   ","version":"Next","tagName":"h3"},{"title":"PostgreSQL​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#postgresql","content":" Create a database and user for Databasement on your PostgreSQL server:  PostgreSQL:  CREATE DATABASE databasement; CREATE USER databasement WITH ENCRYPTED PASSWORD 'your-secure-password'; GRANT ALL PRIVILEGES ON DATABASE databasement TO databasement;   DB_CONNECTION=pgsql DB_HOST=your-postgres-host DB_PORT=5432 DB_DATABASE=databasement DB_USERNAME=databasement DB_PASSWORD=your-secure-password   ","version":"Next","tagName":"h3"},{"title":"Backup Storage​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#backup-storage","content":" Configure where backup files are stored temporarily during operations.  Variable\tDescription\tDefaultBACKUP_TMP_FOLDER\tLocal temp directory for backups\t/tmp/backups  ","version":"Next","tagName":"h2"},{"title":"S3-Compatible Storage​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#s3-compatible-storage","content":" Databasement supports AWS S3 and S3-compatible storage (MinIO, DigitalOcean Spaces, etc.) for backup volumes.  Basic Configuration (Static Credentials)​  For standard AWS access using access keys:  AWS_ACCESS_KEY_ID=your-access-key AWS_SECRET_ACCESS_KEY=your-secret-key AWS_REGION=us-east-1   note The AWS SDK automatically picks up AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY from the environment.  S3-Compatible Storage (MinIO, etc.)​  For S3-compatible storage providers, configure a custom endpoint:  AWS_ACCESS_KEY_ID=your-access-key AWS_SECRET_ACCESS_KEY=your-secret-key AWS_REGION=us-east-1 AWS_ENDPOINT_URL_S3=https://minio.yourdomain.com AWS_USE_PATH_STYLE_ENDPOINT=true   IAM Role Assumption (Restricted Environments)​  For environments with restricted network access (VPC endpoints, private links), you can use IAM role assumption via STS:  AWS_REGION=eu-central-1 AWS_ROLE_ARN=arn:aws:iam::123456789:role/your-role-name AWS_ROLE_SESSION_NAME=databasement AWS_ENDPOINT_URL_STS=https://vpce-xxx.sts.eu-central-1.vpce.amazonaws.com AWS_ENDPOINT_URL_S3=https://bucket.vpce-xxx.s3.eu-central-1.vpce.amazonaws.com AWS_USE_PATH_STYLE_ENDPOINT=true   AWS Profile Support​  If using AWS credential profiles (from ~/.aws/credentials):  AWS_S3_PROFILE=my-s3-profile AWS_STS_PROFILE=my-sts-profile   All S3 Environment Variables​  Variable\tDescription\tDefaultAWS_ACCESS_KEY_ID\tAWS access key (picked up automatically by SDK)\t- AWS_SECRET_ACCESS_KEY\tAWS secret key (picked up automatically by SDK)\t- AWS_REGION\tAWS region\tus-east-1 AWS_ENDPOINT_URL_S3\tCustom S3 endpoint URL\t- AWS_USE_PATH_STYLE_ENDPOINT\tUse path-style URLs (required for MinIO)\tfalse AWS_S3_PROFILE\tAWS credential profile for S3\t- AWS_ROLE_ARN\tIAM role ARN to assume\t- AWS_ROLE_SESSION_NAME\tSession name for role assumption\tdatabasement AWS_ENDPOINT_URL_STS\tCustom STS endpoint URL\t- AWS_STS_PROFILE\tAWS credential profile for STS\t-  ","version":"Next","tagName":"h3"},{"title":"CLI Tools Configuration​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#cli-tools-configuration","content":" Databasement uses command-line tools to perform database dumps and restores.  Variable\tDescription\tDefaultMYSQL_CLI_TYPE\tMySQL CLI type (mysql or mariadb)\tmariadb  The container includes both mysqldump/mysql (via MariaDB client) and pg_dump/psql for PostgreSQL operations.  ","version":"Next","tagName":"h2"},{"title":"Queue Configuration​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#queue-configuration","content":" The application uses a queue for async backup and restore operations. By default, it uses the database queue driver.  Variable\tDescription\tDefaultQUEUE_CONNECTION\tQueue driver\tdatabase  ","version":"Next","tagName":"h2"},{"title":"Session & Cache​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#session--cache","content":" Variable\tDescription\tDefaultSESSION_DRIVER\tSession storage driver\tdatabase CACHE_STORE\tCache storage driver\tdatabase  ","version":"Next","tagName":"h2"},{"title":"Logging​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#logging","content":" Variable\tDescription\tDefaultLOG_CHANNEL\tLogging channel\tstderr LOG_LEVEL\tMinimum log level\tdebug  For production, stderr is recommended as logs will be captured by Docker.  ","version":"Next","tagName":"h2"},{"title":"Complete Example​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#complete-example","content":" Here's a complete .env file for a production deployment with MySQL:  # Application APP_ENV=production APP_DEBUG=false APP_URL=https://backup.yourdomain.com APP_KEY=base64:your-generated-key-here # Database (for Databasement itself) DB_CONNECTION=mysql DB_HOST=mysql.yourdomain.com DB_PORT=3306 DB_DATABASE=databasement DB_USERNAME=databasement DB_PASSWORD=secure-password-here # Storage &amp; Queue QUEUE_CONNECTION=database SESSION_DRIVER=database CACHE_STORE=database # Logging LOG_CHANNEL=stderr LOG_LEVEL=warning # CLI Tools MYSQL_CLI_TYPE=mariadb   ","version":"Next","tagName":"h2"},{"title":"Troubleshooting​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#troubleshooting","content":" ","version":"Next","tagName":"h2"},{"title":"Enable Debug Mode​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#enable-debug-mode","content":" Enable debug mode with APP_DEBUG=true in your values file. Go to https://dabasement.yourdomain.com/health/debug to view the debug page. Check the logs Report any issues on GitHub  ","version":"Next","tagName":"h3"},{"title":"Run Artisan Commands​","type":1,"pageTitle":"Configuration","url":"/databasement/self-hosting/configuration#run-artisan-commands","content":" php artisan migrate:status # Check database migrations php artisan config:show database # View database configuration  ","version":"Next","tagName":"h3"},{"title":"Introduction","type":0,"sectionRef":"#","url":"/databasement/user-guide/intro","content":"","keywords":"","version":"Next"},{"title":"Getting Started​","type":1,"pageTitle":"Introduction","url":"/databasement/user-guide/intro#getting-started","content":" After installing Databasement, access the web interface and create your first account.  ","version":"Next","tagName":"h2"},{"title":"1. Create Your Account​","type":1,"pageTitle":"Introduction","url":"/databasement/user-guide/intro#1-create-your-account","content":" When you first access Databasement, you'll be prompted to register. Create an account with:  Your nameEmail addressPassword  Two-factor authentication can be enabled later in your account settings for additional security.  ","version":"Next","tagName":"h3"},{"title":"2. Add a Database Server​","type":1,"pageTitle":"Introduction","url":"/databasement/user-guide/intro#2-add-a-database-server","content":" Navigate to Database Servers and click Add Server. You'll need:  Name: A friendly name for this server (e.g., &quot;Production MySQL&quot;)Type: MySQL, PostgreSQL, or MariaDBHost: The server hostname or IP addressPort: The database port (default: 3306 for MySQL, 5432 for PostgreSQL)Username: Database user with backup privilegesPassword: The database password  Click Test Connection to verify the connection before saving.  ","version":"Next","tagName":"h3"},{"title":"3. Create a Storage Volume​","type":1,"pageTitle":"Introduction","url":"/databasement/user-guide/intro#3-create-a-storage-volume","content":" Before creating backups, you need a storage volume. Navigate to Volumes and click Add Volume.  Databasement supports:  Local storage: Store backups on the server's filesystemS3-compatible storage: Amazon S3, MinIO, DigitalOcean Spaces, etc.  ","version":"Next","tagName":"h3"},{"title":"4. Create Your First Backup​","type":1,"pageTitle":"Introduction","url":"/databasement/user-guide/intro#4-create-your-first-backup","content":" Go to Database Servers, find your server, and click Backup. Select the database and storage volume, then start the backup.  Backups run asynchronously - you can navigate away and check progress later on the Snapshots page.  ","version":"Next","tagName":"h3"},{"title":"5. Restore a Snapshot​","type":1,"pageTitle":"Introduction","url":"/databasement/user-guide/intro#5-restore-a-snapshot","content":" To restore a backup, go to Snapshots, find the snapshot you want to restore, and click Restore. You can restore to:  The same server and database (rollback)A different database on the same serverA completely different server (cross-server restore)  ","version":"Next","tagName":"h3"},{"title":"Next Steps​","type":1,"pageTitle":"Introduction","url":"/databasement/user-guide/intro#next-steps","content":" Managing Database ServersConfiguring BackupsWorking with SnapshotsStorage Volumes ","version":"Next","tagName":"h2"},{"title":"Docker Compose","type":0,"sectionRef":"#","url":"/databasement/self-hosting/guides/docker-compose","content":"","keywords":"","version":"Next"},{"title":"Prerequisites​","type":1,"pageTitle":"Docker Compose","url":"/databasement/self-hosting/guides/docker-compose#prerequisites","content":" Docker and Docker Compose  ","version":"Next","tagName":"h2"},{"title":"Quick Start​","type":1,"pageTitle":"Docker Compose","url":"/databasement/self-hosting/guides/docker-compose#quick-start","content":" ","version":"Next","tagName":"h2"},{"title":"1. Create Project Directory​","type":1,"pageTitle":"Docker Compose","url":"/databasement/self-hosting/guides/docker-compose#1-create-project-directory","content":" mkdir databasement &amp;&amp; cd databasement   ","version":"Next","tagName":"h3"},{"title":"2. Generate Application Key​","type":1,"pageTitle":"Docker Compose","url":"/databasement/self-hosting/guides/docker-compose#2-generate-application-key","content":" docker run --rm davidcrty/databasement:latest php artisan key:generate --show   Save this key for the next step.  ","version":"Next","tagName":"h3"},{"title":"3. Create docker-compose.yml​","type":1,"pageTitle":"Docker Compose","url":"/databasement/self-hosting/guides/docker-compose#3-create-docker-composeyml","content":" docker-compose.yml services: app: image: davidcrty/databasement:latest container_name: databasement restart: unless-stopped ports: - &quot;8000:8000&quot; environment: APP_URL: http://localhost:8000 APP_KEY: base64:your-generated-key-here DB_CONNECTION: sqlite # or mysql, postgres DB_DATABASE: /data/database.sqlite volumes: - app-data:/data healthcheck: test: [&quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://localhost:8000&quot;] interval: 10s timeout: 5s retries: 5 worker: image: davidcrty/databasement:latest container_name: databasement-worker restart: unless-stopped command: sh -c &quot;php artisan db:wait &amp;&amp; php artisan queue:work --queue=backups,default --tries=3 --timeout=3600 --sleep=3 --max-jobs=1000&quot; environment: APP_URL: http://localhost:8000 APP_KEY: base64:your-generated-key-here DB_CONNECTION: sqlite # or mysql, postgres DB_DATABASE: /data/database.sqlite volumes: - app-data:/data depends_on: - app volumes: app-data:   tip The worker service runs the Laravel queue worker as a separate container. This provides better stability and allows independent restarts without affecting the web application. The worker processes backup and restore jobs from the queue.  ","version":"Next","tagName":"h3"},{"title":"4. Start the Services​","type":1,"pageTitle":"Docker Compose","url":"/databasement/self-hosting/guides/docker-compose#4-start-the-services","content":" docker compose up -d   ","version":"Next","tagName":"h3"},{"title":"5. Access the Application​","type":1,"pageTitle":"Docker Compose","url":"/databasement/self-hosting/guides/docker-compose#5-access-the-application","content":" Open http://localhost:8000 in your browser.  note To expose your Databasement instance with HTTPS, you can use Traefik as a reverse proxy. For detailed instructions on how to configure Traefik with Docker, please refer to the official Traefik documentation.  ","version":"Next","tagName":"h3"},{"title":"Production Setup (External Database)​","type":1,"pageTitle":"Docker Compose","url":"/databasement/self-hosting/guides/docker-compose#production-setup-external-database","content":" For production, we recommend using MySQL or PostgreSQL instead of SQLite. Check the database configuration guide for more information. ","version":"Next","tagName":"h2"},{"title":"Snapshots","type":0,"sectionRef":"#","url":"/databasement/user-guide/snapshots","content":"","keywords":"","version":"Next"},{"title":"Viewing Snapshots​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#viewing-snapshots","content":" Navigate to Snapshots to see all your backup snapshots. The list shows:  Source server and databaseCreation timestampFile sizeStorage volume locationStatus  ","version":"Next","tagName":"h2"},{"title":"Snapshot Details​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#snapshot-details","content":" Click on a snapshot to see detailed information:  Storage URI - The full location of the backup fileCreation time and durationDatabase type and versionCompression ratioChecksum for integrity verification  ","version":"Next","tagName":"h2"},{"title":"Storage URI Format​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#storage-uri-format","content":" Each snapshot stores its location as a URI that identifies both the storage type and the full path to the backup file. This makes snapshots self-describing and portable.  ","version":"Next","tagName":"h2"},{"title":"Local Storage​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#local-storage","content":" local:///data/backups/MyServer-mydb-2025-12-22-164400.sql.gz   Format: local://&lt;absolute-path&gt;  ","version":"Next","tagName":"h3"},{"title":"S3 Storage​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#s3-storage","content":" s3://my-bucket/backups/MyServer-mydb-2025-12-22-164400.sql.gz   Format: s3://&lt;bucket&gt;/&lt;path&gt;  The URI contains the complete location, making it easy to identify where each backup is stored without needing to look up volume configuration.  ","version":"Next","tagName":"h3"},{"title":"Restoring a Snapshot​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#restoring-a-snapshot","content":" Databasement supports flexible restore options:  ","version":"Next","tagName":"h2"},{"title":"1. Same Server Restore (Rollback)​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#1-same-server-restore-rollback","content":" Restore to the same server and database:  Find the snapshot you want to restoreClick RestoreConfirm you want to restore to the original locationClick Start Restore  warning This will overwrite all current data in the target database!  ","version":"Next","tagName":"h3"},{"title":"2. Different Database Restore​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#2-different-database-restore","content":" Restore to a different database on the same server:  Find the snapshotClick RestoreSelect the same server but specify a different database nameClick Start Restore  ","version":"Next","tagName":"h3"},{"title":"3. Cross-Server Restore​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#3-cross-server-restore","content":" Restore to a completely different server:  Find the snapshotClick RestoreSelect a different target serverChoose the target databaseClick Start Restore  note Cross-server restores require matching database types. You cannot restore a MySQL backup to PostgreSQL.  ","version":"Next","tagName":"h3"},{"title":"Restore Process​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#restore-process","content":" When you restore a snapshot, Databasement:  Downloads the snapshot from storageDecompresses the backup fileConnects to the target database serverDrops and recreates the target database (if it exists)Restores the data using native database tools  ","version":"Next","tagName":"h2"},{"title":"Restore Commands​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#restore-commands","content":" MySQL / MariaDB:  mysql database_name &lt; backup.sql   PostgreSQL:  psql database_name &lt; backup.sql   ","version":"Next","tagName":"h3"},{"title":"Restore Status​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#restore-status","content":" Like backups, restores have status:  Status\tDescriptionPending\tRestore is queued In Progress\tRestore is running Completed\tRestore finished successfully Failed\tRestore encountered an error  ","version":"Next","tagName":"h2"},{"title":"Deleting Snapshots​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#deleting-snapshots","content":" To delete a snapshot:  Find the snapshot in the listClick DeleteConfirm the deletion  This removes both the snapshot record and the actual backup file from storage.  ","version":"Next","tagName":"h2"},{"title":"Snapshot Retention​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#snapshot-retention","content":" Consider implementing a retention policy:  Keep daily backups for a weekKeep weekly backups for a monthKeep monthly backups for a year  You can manually delete old snapshots or implement automated cleanup based on your needs.  ","version":"Next","tagName":"h2"},{"title":"Downloading Snapshots​","type":1,"pageTitle":"Snapshots","url":"/databasement/user-guide/snapshots#downloading-snapshots","content":" If you need to download a backup file directly:  Go to the snapshot detailsClick Download (if available for your storage type)  For S3 storage, you can also access files directly through your S3 client or console. ","version":"Next","tagName":"h2"},{"title":"Storage Volumes","type":0,"sectionRef":"#","url":"/databasement/user-guide/volumes","content":"","keywords":"","version":"Next"},{"title":"Volume Types​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#volume-types","content":" ","version":"Next","tagName":"h2"},{"title":"Local Storage​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#local-storage","content":" Store backups directly on the Databasement server's filesystem. This is the simplest option but requires adequate disk space.  Best for:  Small deploymentsTesting and developmentFast local access to backups  Considerations:  Backups are lost if the server failsLimited by server disk capacityNot suitable for distributed setups  ","version":"Next","tagName":"h3"},{"title":"S3-Compatible Storage​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#s3-compatible-storage","content":" Store backups in Amazon S3 or any S3-compatible service:  Amazon S3MinIODigitalOcean SpacesBackblaze B2WasabiAnd many others  Best for:  Production environmentsDisaster recoveryLarge-scale backupsGeographic redundancy  ","version":"Next","tagName":"h3"},{"title":"Creating a Volume​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#creating-a-volume","content":" ","version":"Next","tagName":"h2"},{"title":"Local Volume​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#local-volume","content":" Navigate to VolumesClick Add VolumeSelect Local as the typeConfigure:  Field\tDescriptionName\tFriendly name for this volume Path\tAbsolute path on the filesystem (e.g., /backups)  Click Save  warning Ensure the Databasement container has write access to the specified path. You may need to mount a volume when running Docker.  ","version":"Next","tagName":"h3"},{"title":"S3 Volume​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#s3-volume","content":" Navigate to VolumesClick Add VolumeSelect S3 as the typeConfigure:  Field\tDescriptionName\tFriendly name for this volume Bucket\tS3 bucket name Region\tAWS region (e.g., us-east-1) Access Key\tAWS access key ID Secret Key\tAWS secret access key Endpoint\tCustom endpoint (for non-AWS S3 services) Path Prefix\tOptional folder prefix within the bucket  Click Test Connection to verify accessClick Save  ","version":"Next","tagName":"h3"},{"title":"S3 IAM Permissions​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#s3-iam-permissions","content":" The AWS credentials need these permissions:  { &quot;Version&quot;: &quot;2012-10-17&quot;, &quot;Statement&quot;: [ { &quot;Effect&quot;: &quot;Allow&quot;, &quot;Action&quot;: [ &quot;s3:PutObject&quot;, &quot;s3:GetObject&quot;, &quot;s3:DeleteObject&quot;, &quot;s3:ListBucket&quot; ], &quot;Resource&quot;: [ &quot;arn:aws:s3:::your-bucket-name&quot;, &quot;arn:aws:s3:::your-bucket-name/*&quot; ] } ] }   ","version":"Next","tagName":"h2"},{"title":"Using Non-AWS S3 Services​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#using-non-aws-s3-services","content":" ","version":"Next","tagName":"h2"},{"title":"MinIO​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#minio","content":" Endpoint: http://minio.yourdomain.com:9000 Region: us-east-1 (or any value) Access Key: your-minio-access-key Secret Key: your-minio-secret-key   ","version":"Next","tagName":"h3"},{"title":"DigitalOcean Spaces​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#digitalocean-spaces","content":" Endpoint: https://nyc3.digitaloceanspaces.com Region: nyc3 Access Key: your-spaces-access-key Secret Key: your-spaces-secret-key   ","version":"Next","tagName":"h3"},{"title":"Backblaze B2​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#backblaze-b2","content":" Endpoint: https://s3.us-west-000.backblazeb2.com Region: us-west-000 Access Key: your-b2-application-key-id Secret Key: your-b2-application-key   ","version":"Next","tagName":"h3"},{"title":"Editing Volumes​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#editing-volumes","content":" Go to VolumesFind the volume to editClick EditUpdate settingsTest the connectionSave changes  ","version":"Next","tagName":"h2"},{"title":"Deleting Volumes​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#deleting-volumes","content":" Go to VolumesFind the volume to deleteClick DeleteConfirm the deletion  warning Deleting a volume does not delete the backup files stored in it. Files remain in the storage location but become inaccessible through Databasement.  ","version":"Next","tagName":"h2"},{"title":"Volume Management Tips​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#volume-management-tips","content":" ","version":"Next","tagName":"h2"},{"title":"Capacity Planning​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#capacity-planning","content":" Monitor free space on local volumesSet up S3 lifecycle policies for automatic cleanupEstimate storage needs based on database size and backup frequency  ","version":"Next","tagName":"h3"},{"title":"Organization​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#organization","content":" Use path prefixes to organize backups:  /production/mysql/ - Production MySQL backups/staging/postgres/ - Staging PostgreSQL backups/daily/ - Daily backup schedule  ","version":"Next","tagName":"h3"},{"title":"Cost Optimization for S3​","type":1,"pageTitle":"Storage Volumes","url":"/databasement/user-guide/volumes#cost-optimization-for-s3","content":" Use S3 Intelligent-Tiering for automatic cost optimizationConfigure lifecycle policies to move old backups to cheaper storage classesConsider S3 Glacier for long-term retention ","version":"Next","tagName":"h3"}],"options":{"id":"default"}}