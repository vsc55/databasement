should render deployment with default values:
  1: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: databasement
        app.kubernetes.io/version: 0.1.0
        helm.sh/chart: databasement-0.1.0
      name: RELEASE-NAME-databasement
    spec:
      replicas: 1
      selector:
        matchLabels:
          app.kubernetes.io/instance: RELEASE-NAME
          app.kubernetes.io/name: databasement
      strategy:
        type: Recreate
      template:
        metadata:
          labels:
            app.kubernetes.io/instance: RELEASE-NAME
            app.kubernetes.io/managed-by: Helm
            app.kubernetes.io/name: databasement
            app.kubernetes.io/version: 0.1.0
            helm.sh/chart: databasement-0.1.0
        spec:
          containers:
            - env:
                - name: SERVER_NAME
                  value: :8080
                - name: APP_NAME
                  value: Databasement
                - name: APP_ENV
                  value: production
                - name: APP_DEBUG
                  value: "false"
                - name: APP_URL
                  value: http://localhost:8080
                - name: APP_KEY
                  valueFrom:
                    secretKeyRef:
                      key: app-key
                      name: RELEASE-NAME-databasement
                - name: DB_CONNECTION
                  value: sqlite
                - name: DB_DATABASE
                  value: /data/database.sqlite
                - name: LOG_CHANNEL
                  value: stderr
                - name: LOG_LEVEL
                  value: warning
                - name: ENABLE_DATABASE_MIGRATION
                  value: "false"
              image: davidcrty/databasement:latest
              imagePullPolicy: Always
              livenessProbe:
                failureThreshold: 3
                httpGet:
                  path: /health
                  port: http
                periodSeconds: 10
                timeoutSeconds: 5
              name: databasement
              ports:
                - containerPort: 8080
                  name: http
                  protocol: TCP
              readinessProbe:
                failureThreshold: 3
                httpGet:
                  path: /health
                  port: http
                periodSeconds: 5
                timeoutSeconds: 3
              resources: null
              securityContext:
                runAsGroup: 1000
                runAsNonRoot: true
                runAsUser: 1000
              startupProbe:
                failureThreshold: 30
                httpGet:
                  path: /health
                  port: http
                initialDelaySeconds: 5
                periodSeconds: 3
                timeoutSeconds: 3
              volumeMounts:
                - mountPath: /data
                  name: data
            - command:
                - sh
                - -c
                - php artisan db:wait && php artisan db:wait --check-migrations && php artisan queue:work --queue=backups,default --tries=3 --timeout=3600 --sleep=3 --max-jobs=1000
              env:
                - name: SERVER_NAME
                  value: :8080
                - name: APP_NAME
                  value: Databasement
                - name: APP_ENV
                  value: production
                - name: APP_DEBUG
                  value: "false"
                - name: APP_URL
                  value: http://localhost:8080
                - name: APP_KEY
                  valueFrom:
                    secretKeyRef:
                      key: app-key
                      name: RELEASE-NAME-databasement
                - name: DB_CONNECTION
                  value: sqlite
                - name: DB_DATABASE
                  value: /data/database.sqlite
                - name: LOG_CHANNEL
                  value: stderr
                - name: LOG_LEVEL
                  value: warning
                - name: ENABLE_DATABASE_MIGRATION
                  value: "false"
              image: davidcrty/databasement:latest
              imagePullPolicy: Always
              name: databasement-worker
              resources:
                limits:
                  cpu: 500m
                  memory: 512Mi
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                runAsGroup: 1000
                runAsNonRoot: true
                runAsUser: 1000
              volumeMounts:
                - mountPath: /data
                  name: data
          initContainers:
            - command:
                - sh
                - -c
                - php artisan db:wait && php artisan migrate --force
              env:
                - name: SERVER_NAME
                  value: :8080
                - name: APP_NAME
                  value: Databasement
                - name: APP_ENV
                  value: production
                - name: APP_DEBUG
                  value: "false"
                - name: APP_URL
                  value: http://localhost:8080
                - name: APP_KEY
                  valueFrom:
                    secretKeyRef:
                      key: app-key
                      name: RELEASE-NAME-databasement
                - name: DB_CONNECTION
                  value: sqlite
                - name: DB_DATABASE
                  value: /data/database.sqlite
                - name: LOG_CHANNEL
                  value: stderr
                - name: LOG_LEVEL
                  value: warning
                - name: ENABLE_DATABASE_MIGRATION
                  value: "false"
              image: davidcrty/databasement:latest
              imagePullPolicy: Always
              name: databasement-migrations
              securityContext:
                runAsGroup: 1000
                runAsNonRoot: true
                runAsUser: 1000
              volumeMounts:
                - mountPath: /data
                  name: data
          securityContext:
            fsGroup: 1000
          serviceAccountName: default
          volumes:
            - name: data
              persistentVolumeClaim:
                claimName: RELEASE-NAME-databasement-storage
should render deployment with mysql database:
  1: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: databasement
        app.kubernetes.io/version: 0.1.0
        helm.sh/chart: databasement-0.1.0
      name: RELEASE-NAME-databasement
    spec:
      replicas: 1
      selector:
        matchLabels:
          app.kubernetes.io/instance: RELEASE-NAME
          app.kubernetes.io/name: databasement
      strategy:
        type: Recreate
      template:
        metadata:
          labels:
            app.kubernetes.io/instance: RELEASE-NAME
            app.kubernetes.io/managed-by: Helm
            app.kubernetes.io/name: databasement
            app.kubernetes.io/version: 0.1.0
            helm.sh/chart: databasement-0.1.0
        spec:
          containers:
            - env:
                - name: SERVER_NAME
                  value: :8080
                - name: APP_NAME
                  value: Databasement
                - name: APP_ENV
                  value: production
                - name: APP_DEBUG
                  value: "false"
                - name: APP_URL
                  value: http://localhost:8080
                - name: APP_KEY
                  valueFrom:
                    secretKeyRef:
                      key: app-key
                      name: RELEASE-NAME-databasement
                - name: DB_CONNECTION
                  value: mysql
                - name: DB_HOST
                  value: mysql.example.com
                - name: DB_PORT
                  value: "3306"
                - name: DB_DATABASE
                  value: mydb
                - name: DB_USERNAME
                  value: myuser
                - name: DB_PASSWORD
                  valueFrom:
                    secretKeyRef:
                      key: db-password
                      name: RELEASE-NAME-databasement
                - name: LOG_CHANNEL
                  value: stderr
                - name: LOG_LEVEL
                  value: warning
                - name: ENABLE_DATABASE_MIGRATION
                  value: "false"
              image: davidcrty/databasement:latest
              imagePullPolicy: Always
              livenessProbe:
                failureThreshold: 3
                httpGet:
                  path: /health
                  port: http
                periodSeconds: 10
                timeoutSeconds: 5
              name: databasement
              ports:
                - containerPort: 8080
                  name: http
                  protocol: TCP
              readinessProbe:
                failureThreshold: 3
                httpGet:
                  path: /health
                  port: http
                periodSeconds: 5
                timeoutSeconds: 3
              resources: null
              securityContext:
                runAsGroup: 1000
                runAsNonRoot: true
                runAsUser: 1000
              startupProbe:
                failureThreshold: 30
                httpGet:
                  path: /health
                  port: http
                initialDelaySeconds: 5
                periodSeconds: 3
                timeoutSeconds: 3
              volumeMounts:
                - mountPath: /data
                  name: data
            - command:
                - sh
                - -c
                - php artisan db:wait && php artisan db:wait --check-migrations && php artisan queue:work --queue=backups,default --tries=3 --timeout=3600 --sleep=3 --max-jobs=1000
              env:
                - name: SERVER_NAME
                  value: :8080
                - name: APP_NAME
                  value: Databasement
                - name: APP_ENV
                  value: production
                - name: APP_DEBUG
                  value: "false"
                - name: APP_URL
                  value: http://localhost:8080
                - name: APP_KEY
                  valueFrom:
                    secretKeyRef:
                      key: app-key
                      name: RELEASE-NAME-databasement
                - name: DB_CONNECTION
                  value: mysql
                - name: DB_HOST
                  value: mysql.example.com
                - name: DB_PORT
                  value: "3306"
                - name: DB_DATABASE
                  value: mydb
                - name: DB_USERNAME
                  value: myuser
                - name: DB_PASSWORD
                  valueFrom:
                    secretKeyRef:
                      key: db-password
                      name: RELEASE-NAME-databasement
                - name: LOG_CHANNEL
                  value: stderr
                - name: LOG_LEVEL
                  value: warning
                - name: ENABLE_DATABASE_MIGRATION
                  value: "false"
              image: davidcrty/databasement:latest
              imagePullPolicy: Always
              name: databasement-worker
              resources:
                limits:
                  cpu: 500m
                  memory: 512Mi
                requests:
                  cpu: 100m
                  memory: 256Mi
              securityContext:
                runAsGroup: 1000
                runAsNonRoot: true
                runAsUser: 1000
              volumeMounts:
                - mountPath: /data
                  name: data
          initContainers:
            - command:
                - sh
                - -c
                - php artisan db:wait && php artisan migrate --force
              env:
                - name: SERVER_NAME
                  value: :8080
                - name: APP_NAME
                  value: Databasement
                - name: APP_ENV
                  value: production
                - name: APP_DEBUG
                  value: "false"
                - name: APP_URL
                  value: http://localhost:8080
                - name: APP_KEY
                  valueFrom:
                    secretKeyRef:
                      key: app-key
                      name: RELEASE-NAME-databasement
                - name: DB_CONNECTION
                  value: mysql
                - name: DB_HOST
                  value: mysql.example.com
                - name: DB_PORT
                  value: "3306"
                - name: DB_DATABASE
                  value: mydb
                - name: DB_USERNAME
                  value: myuser
                - name: DB_PASSWORD
                  valueFrom:
                    secretKeyRef:
                      key: db-password
                      name: RELEASE-NAME-databasement
                - name: LOG_CHANNEL
                  value: stderr
                - name: LOG_LEVEL
                  value: warning
                - name: ENABLE_DATABASE_MIGRATION
                  value: "false"
              image: davidcrty/databasement:latest
              imagePullPolicy: Always
              name: databasement-migrations
              securityContext:
                runAsGroup: 1000
                runAsNonRoot: true
                runAsUser: 1000
              volumeMounts:
                - mountPath: /data
                  name: data
          securityContext:
            fsGroup: 1000
          serviceAccountName: default
          volumes:
            - name: data
              persistentVolumeClaim:
                claimName: RELEASE-NAME-databasement-storage
